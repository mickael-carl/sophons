- hosts: all
  tasks:
    - name: foo
      file:
        path: /tmp/ansible/foo/bar
        state: directory
        recurse: true
    - file:
        path: /tmp/ansible/test
        state: touch
        mode: 0666
    - file:
        path: /tmp/ansible/foo/bar/baz
        state: touch
    - ansible.builtin.file:
        path: /tmp/ansible/foo/bar/baz
        state: absent
    - ansible.builtin.file:
        path: "{{ filepath }}"
        state: touch
    - ansible.builtin.file:
        path: /tmp/ansible/test-mode
        state: touch
        mode: "u=rwx,g+w,o-rwx"
    - ansible.builtin.file:
        name: "{{ item }}"
        state: touch
      loop:
        - "/bla"
        - "/blabla"
    - ansible.builtin.file:
        name: "{{ item.name }}"
        state: "{{ item.state }}"
      loop:
        - { name: "/loopname", state: "touch" }
